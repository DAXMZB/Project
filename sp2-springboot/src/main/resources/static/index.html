<!DOCTYPE html>
<html>

<!-- user-info -->
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body bgcolor="#faebd7">
	<div id="user-info"
		style="display: flex; justify-content: space-between; align-items: center; padding: 10px; font-weight: bold;">
		<!-- 結構與佈局 (Layout & Styling)

			display: flex;: 使用彈性盒子佈局，讓內部的元件可以水平排列。
			
			justify-content: space-between;: 這是關鍵設定，它會把「歡迎文字」推到最左邊，把「登出按鈕」推到最右邊，中間留出空間。
			
			align-items: center;: 讓左右兩邊的內容在垂直方向上對齊（置中）。
			
			padding: 10px; font-weight: bold;: 設定內距並將文字加粗，讓資訊更顯眼。 -->
		<div id="welcome-msg"></div>
		<!-- 用途：當使用者登入成功後，你可以用 JavaScript 把「歡迎，Eric！」這類文字塞進這裡。 -->
		<div id="logout-btn-area"></div>
	</div>



	<table width="100%" border="2" align="center" height=300>
		<tr style="opacity: 0.5;">
			<td id="title-placeholder" colspan=2 bgcolor=black
				style="opacity: 0.5" align=center></td>
		</tr>


		<tr id="auth-row" align=center>
			<td><a href=login.html style="color: brown">登入</a></td>
			<td><a href="addMember.html">註冊</a></td>
		</tr>
		<!-- 首頁檔案 -->
		<script>
			$(function() {
				//put title.html in placeholder
				$("#title-placeholder").load("title.html");
				//截取登入資訊
				let loginName = sessionStorage.getItem("userName");//loginName的set在login.html
				if (loginName) {
					//已登入狀態
					$("user-info").css("display", "flex");//顯示歡迎列
					//將歡迎文字加入左側 div
					$("#welcome-msg").text("歡迎登入，" + loginName + "!");
					//將登出按鈕放入右側 div
					$("#logout-btn-area").html(
							"<button onclick='logout()' >登出</button>");

					//隱藏登入/註冊相關按鈕					
					$("#auth-row").hide();
				} else {
					//未登入狀態
					$("#user-info").hide();
					$("#auth-row").show();

				}

			});
			//登出功能
			function logout() {
				if (confirm("確定要登出嗎?")) {
					sessionStorage.removeItem("userName");
					location.reload();//window.location.href="login.html";
				}

			}
		</script>
	</table>
	<table width="100%" border="2" height=700>
		<tr></tr>
	</table>
</body>
</html>